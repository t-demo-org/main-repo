name: Burp2

on:
  push:
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in parallel
jobs:
  scan:
    runs-on: ubuntu-latest
    container: tareksrour/burp
    env:
      URL: "https://ginandjuice.shop"
    steps:
    - uses: actions/checkout@v2  
    # - run: /app/entrypoint.sh
    #   shell: bash
    # - run: find / | grep burp-report.xml && pwd

    - name: Publish Test Report
      if: always()                                    # Forces this step to always run
      uses: mikepenz/action-junit-report@v3
      with:
        report_paths: '**/burp-report.xml'       # You need to update this path if you pass in a different output filename to the Dastardly action
        require_tests: true
    # - name: Test Report
    #   uses: dorny/test-reporter@v1
    #   if: success() || failure()    # run this step even if previous step failed
    #   with:
    #     name: Burp Test Result            # Name of the check run which will be created
    #     path: 'burp-report.xml'
    #     reporter: java-junit
    # - uses: actions/upload-artifact@v3
    #   if: always()
    #   with:
    #     name: scan-report
    #     path: |
    #       burp-report.xml
    # You can replace this next step with any JUnit XML parser of your choosing
    # - name: Publish Test Report
    #   if: always()                                    # Forces this step to always run
    #   uses: mikepenz/action-junit-report@v3
    #   with:
    #     report_paths: '**/dastardly-report.xml'       # You need to update this path if you pass in a different output filename to the Dastardly action
    #     require_tests: true
    #     detailed_summary: true